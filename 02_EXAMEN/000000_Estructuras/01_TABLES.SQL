CREATE TABLE EXAMEN02.BANDS
(
  BAND_ID              NUMBER,
  BAND_NAME            VARCHAR2(100 BYTE),
  MUSIC_GENRE_ID       NUMBER,
  BAND_HOME_ID         NUMBER,
  BAND_CREATION_DATE   DATE,
  CONTACT_MUSICIAN_ID  NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.BANDS_MUSICIANS
(
  BAND_MUSICIAN_ID  NUMBER,
  BAND_ID           NUMBER,
  MUSICIAN_ID       NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.BANDS_MUSICIANS_INSTRUMENTS
(
  BAND_MUSICIAN_ID  NUMBER,
  INSTRUMENT_ID     NUMBER,
  MUSIC_GENRE_ID    NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.CITIES
(
  CITY_ID       NUMBER,
  CITY_NAME     VARCHAR2(100 BYTE),
  COUNTRY_NAME  VARCHAR2(100 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.COMPOSITIONS
(
  COMPOSITION_ID     NUMBER,
  COMPOSITION_TITLE  VARCHAR2(100 BYTE),
  COMPOSITION_DATE   DATE,
  COMPOSED_CITY_ID   NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.COMPOSITIONS_MUSICIANS
(
  COMPOSITION_ID  NUMBER,
  MUSICIAN_ID     NUMBER,
  MUSIC_GENRE_ID  NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.CONCERTS
(
  CONCERT_ID            NUMBER,
  CONCERT_VENUE_ID      NUMBER,
  CONCERT_DATE          DATE,
  CONCERT_ORGANIZER_ID  NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.CONCERTS_BANDS
(
  CONCERT_ID    NUMBER,
  BAND_ID       NUMBER,
  PLAYED_SONGS  NUMBER,
  BAND_ORDER    NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.CONCERT_VENUES
(
  CONCERT_VENUE_ID  NUMBER,
  VENUE_NAME        VARCHAR2(100 BYTE),
  CITY_ID           NUMBER,
  OPENED_DATE       DATE,
  CAPACITY          NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.INSTRUMENTS
(
  INSTRUMENT_ID    NUMBER,
  INSTRUMENT_NAME  VARCHAR2(100 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.MUSICIANS
(
  MUSICIAN_ID        NUMBER,
  MUSICIAN_NAME      VARCHAR2(100 BYTE),
  DATE_BIRTH         DATE,
  DATE_DIED          DATE,
  ORIGIN_CITY_ID     NUMBER,
  RESIDENCE_CITY_ID  NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE EXAMEN02.MUSIC_GENRES
(
  MUSIC_GENRE_ID  NUMBER,
  GENRE_NAME      VARCHAR2(100 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE UNIQUE INDEX EXAMEN02.BANDS_MUSICIANS_INSTRUMENTS_PK ON EXAMEN02.BANDS_MUSICIANS_INSTRUMENTS
(INSTRUMENT_ID, BAND_MUSICIAN_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.BANDS_MUSICIANS_PK ON EXAMEN02.BANDS_MUSICIANS
(BAND_MUSICIAN_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.BANDS_PK ON EXAMEN02.BANDS
(BAND_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.CITIES_PK ON EXAMEN02.CITIES
(CITY_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.COMPOSITIONS_PK ON EXAMEN02.COMPOSITIONS
(COMPOSITION_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.CONCERTS_BANDS_PK ON EXAMEN02.CONCERTS_BANDS
(CONCERT_ID, BAND_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.CONCERTS_PK ON EXAMEN02.CONCERTS
(CONCERT_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.CONCERT_VENUES_PK ON EXAMEN02.CONCERT_VENUES
(CONCERT_VENUE_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.INSTRUMENTS_PK ON EXAMEN02.INSTRUMENTS
(INSTRUMENT_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.MUSICIANS_PK ON EXAMEN02.MUSICIANS
(MUSICIAN_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

CREATE UNIQUE INDEX EXAMEN02.MUSIC_GENRES_PK ON EXAMEN02.MUSIC_GENRES
(MUSIC_GENRE_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

ALTER TABLE EXAMEN02.BANDS ADD (
  CONSTRAINT BANDS_PK
  PRIMARY KEY
  (BAND_ID)
  USING INDEX EXAMEN02.BANDS_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.BANDS_MUSICIANS ADD (
  CONSTRAINT BANDS_MUSICIANS_PK
  PRIMARY KEY
  (BAND_MUSICIAN_ID)
  USING INDEX EXAMEN02.BANDS_MUSICIANS_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.BANDS_MUSICIANS_INSTRUMENTS ADD (
  CONSTRAINT BANDS_MUSICIANS_INSTRUMENTS_PK
  PRIMARY KEY
  (INSTRUMENT_ID, BAND_MUSICIAN_ID)
  USING INDEX EXAMEN02.BANDS_MUSICIANS_INSTRUMENTS_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.CITIES ADD (
  CONSTRAINT CITIES_PK
  PRIMARY KEY
  (CITY_ID)
  USING INDEX EXAMEN02.CITIES_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.COMPOSITIONS ADD (
  CONSTRAINT COMPOSITIONS_PK
  PRIMARY KEY
  (COMPOSITION_ID)
  USING INDEX EXAMEN02.COMPOSITIONS_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.CONCERTS ADD (
  CONSTRAINT CONCERTS_PK
  PRIMARY KEY
  (CONCERT_ID)
  USING INDEX EXAMEN02.CONCERTS_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.CONCERTS_BANDS ADD (
  CONSTRAINT CONCERTS_BANDS_PK
  PRIMARY KEY
  (CONCERT_ID, BAND_ID)
  USING INDEX EXAMEN02.CONCERTS_BANDS_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.CONCERT_VENUES ADD (
  CONSTRAINT CONCERT_VENUES_PK
  PRIMARY KEY
  (CONCERT_VENUE_ID)
  USING INDEX EXAMEN02.CONCERT_VENUES_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.INSTRUMENTS ADD (
  CONSTRAINT INSTRUMENTS_PK
  PRIMARY KEY
  (INSTRUMENT_ID)
  USING INDEX EXAMEN02.INSTRUMENTS_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.MUSICIANS ADD (
  CONSTRAINT MUSICIANS_PK
  PRIMARY KEY
  (MUSICIAN_ID)
  USING INDEX EXAMEN02.MUSICIANS_PK
  ENABLE VALIDATE);

ALTER TABLE EXAMEN02.MUSIC_GENRES ADD (
  CONSTRAINT MUSIC_GENRES_PK
  PRIMARY KEY
  (MUSIC_GENRE_ID)
  USING INDEX EXAMEN02.MUSIC_GENRES_PK
  ENABLE VALIDATE);
